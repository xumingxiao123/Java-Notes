# 场景题

# 智力题

#### 100层楼和两个玻璃球的问题（14层）

问题：有一栋100层高的大楼，给你两个完全相同的玻璃球。假设从某一层开始，丢下玻璃球会摔碎。那么怎么利用手中的两个球，用什么最优策略知道这个临界的层是第几层？

**1、在这里我们先忽略最优策略的解决方案**

（1）最简单的办法就是从底层（1L）逐层往上（100L）尝试，最多要99次才能确定破碎楼层（即100L破碎）。

（2）针对（1）的方案改进一下，第一个球用折半尝试，第二个球用逐层尝试，最多要50次才能确定破碎楼层（即50L破碎）。

（3）考虑对100L层楼分成N段（N=100的平方根，即10段、每段10L），用第一个球来确认球在哪个段破碎，然后用第二个球在该楼层段逐层尝试，最多要19次才能确定破碎楼层（N+9）。

**2、最优策略的解决方案(投掷次数均匀分布)**

为了使最坏情况的投掷数最小，我们希望无论临界段在哪里，总的投掷数都不变，也就是说投掷数均匀分布。

这里可以看成是针对（3）的优化方案。

第一步：确定临界段（初步确认破碎楼层范围）

第二步：确定临界层（逐层尝试破碎楼层）

描述：为了使投掷数均匀分布（假设最多投掷N次），所以

临界段标号	1	2	3	...	i
临界层层数L	N	N-1	N-2	...	N-i+1
临界段范围D	1~N	D1 + 1 ~  D1 + L2	D2 + 1 ~  D2 + L3	...	Di-1 + 1 ~ Di-1 + Li
最多投掷次数	N	N	N	N	N


由于N取值范围（1~N），所以

当N等于1时，确认临界段最多需要C1次（即1次）；

当N等于2时，确认临界段最多需要C2次（即2次）；

......

当N等于N-1时，确认临界段最多需要Cn-1次（即N-1次）；

当N等于N时，确认临界段最多需要Cn次（即N次）；

所以

C1+C2+C3+...+Cn >= 100

=>  1+2+3+...+N >= 100

=>  N(N+1)/2 >= 100 (因为N是正整数)

=> N >= 14

=>  

临界段标号	1	2	3	...	i
临界层层数L	14	13	12	...	N-i+1
临界段范围D	1~14	15~14+13	28~27+12	...	Di-1 + 1 ~ Di-1 + 1 + Li-1
最多投掷次数	14	14	14	14	14

比如39层，玻璃碎了：

用第一个球依次从14层、27层、39层抛下（39层碎了，共3次）

用第二个球依次从28层、29层、30层、31层、32层、33层、34层、35层、36层、37层、38层抛下（因为27层没碎，共11次）

#### 25匹马5个赛道找出最快的3匹（7次）

25匹马，找出最快的3匹，但是只有5个赛道，每次比赛只能得到5匹马的速度排序，那么最少需要多少次比赛

1-5 场：

将25匹马分为5组，每组5匹，得到下面的排序，每组最快的马在左侧，即X1、X6、X11、X16、X21分别是每组中最快的。

组1：X1  X2  X3  X4  X5 
组2：X6  X7  X8  X9  X10 
组3：X11 X12 X13 X14 X15 
组4：X16 X17 X18 X19 X20 
组5：X21 X22 X23 X24 X25 

但是，现在还不能说最快的3匹马在X1、X6、X11、X16、X21中，因为有可能最快的3匹马全部分在第一组中，即有可能出现X2比X6快。

但是我们肯定可以知道，每组的最后2名肯定不会是最快的3匹马，那么排除X4、X5；X9、X10；X14、X15；X19、X20；X24、X25；

第6场：

X1  X2  X3  
X6  X7  X8 
X11 X12 X13 
X16 X17 X18 
X21 X22 X23 

参赛的为每组的第1名：X1、X6、X11、X16、X21，假设速度排序为X1、X6、X11、X16、X21。

那么我们可以知道，X16、X21及其后面的X17、X18；X22、X23均不可能是最快的3匹马。

第7场：

X1  X2  X3  
X6  X7  X8 
X11 X12 X13 


目前，我们可以知道，X1是25匹马中最快的，但是X2、X6、X3、X7、X11之间的速度还不确定，需要再一次比赛，而X8、X12、X13不可能是最快的前3名。
参赛的为：X2、X6、X3、X7、X11，速度最快的2匹加上X1构成最快的3匹马。

因此一共需要7次比赛。

#### 140g盐,一天平,7g 、2g砝码各一个,如何只利用这些东西3次把盐分成50g和90g?

（1）用7g+2g的砝码称出9g盐,140g-9g=131g
   (2）用7g+2g砝码把131g盐分成两部分61g,70g (61+2+7=70）
（3）用2g砝码和9g盐把61g盐分成50g和11g两部分（61-9-2=11,11+50=61）.11g+9g+70g=90g